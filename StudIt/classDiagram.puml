@startuml
class CourseItem {
  - String fagnavn
  - String fagkode
  - String informasjon;
  - String pensumlitteratur;
  - String anbefaltLitteratur;
  - String tips;
  - String eksamensdato;
  - String vurderingsform;
  - String hjelpemidler;
  - float averageVurdering;
  - List<Integer> vurderinger;
  - Discussion diskusjon;
}


class CourseController {
  - CourseItem courseItem
  - User currentUser

  ~ openDiscussion()
  ~ openChatBot
  ~ handleMainPageAction()
  ~ handleLogoutAction()
}


class DiscussionController {
    - CourseItem courseItem
    - ListView<Comment> forumList
    - User currentUser

    ~ addNewPost() 
    + addCourse()
    + loadView()
    + setCurrentUser()
    ~ openInformationtab()
    ~ openChatBot()
    ~ handleLogoutAction()
    ~ handleMainPageAction()
}

class Discussion {
    - Map<Integer, Comment> comments
    - int prevAssignedID = -1

    + getComments()
    + setComments()
}

class Comment {
    - String brukernavn;
    - String kommentar;
    - String dato;
    - int upvotes;
    - int downvotes;
    - int uniqueID;
    - List<String> upvoters;
    - List<String> downvoters;
}


class User {
    - String name;
    - String username;
    - String mail;
    - String password;
    - int uniqueID;
}

 
class AppController {
    - User currentUser
    - Chatbot chatbot
    - List<CourseItem> courseList
    - String label

    + addUser()
    + loadData()
    + clickOnCourse()
    + setRemote()
    ~ openChatBot
    ~ handleMainPageAction()
    ~ handleLogoutAction()
}

class Chatbot{
    - Stage chatStage
    - ChatbotManager chatbotManager
    - ChatbotController controller

    - displayWindow()
    + show()
    + manageInput()
    + getController()
}

class ChatbotController {
    - Stage stage 
    - double xOffset 
    - double yOffset 
    - ChatbotController chatbotController
    
    + exitChatbot()
    + minimizeChatbot()
    + userEntry()
}



AppController o-- CourseItem: 0..*
AppController --> CourseController
AppController -- Chatbot
Chatbot *-- ChatbotController: 1..1

CourseController -- CourseItem 
CourseController <-> DiscussionController
CourseItem <-> DiscussionController
CourseItem *-- Discussion
Discussion *-- Comment: 0..*

AppController --> User: Authenticate
@enduml